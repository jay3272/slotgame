<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥å¼è€è™æ©Ÿ - å‰å®—777é¢¨æ ¼</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #240019;
            color: #fff;
            text-align: center;
            margin: 0;
            padding: 0;
            background-image: radial-gradient(#4a0033, #240019);
            height: 100vh;
            overflow-x: hidden;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            margin-bottom: 20px;
        }
        .header h1 {
            color: #ffcc00;
            text-shadow: 0 0 10px #ff9900;
            font-size: 36px;
            margin: 0;
        }
        .slot-machine {
            background-color: #600040;
            border: 8px solid #8a0051;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(255, 153, 0, 0.5);
            margin-bottom: 20px;
            position: relative;
        }
        
        /* å‹•ç•«é¡¯ç¤ºå€åŸŸ */
        .animation-display {
            background-color: #000;
            border: 5px solid #ffcc00;
            border-radius: 8px;
            height: 180px;
            margin-bottom: 20px;
            overflow: hidden;
            position: relative;
        }
        
        .animation-scene {
            width: 100%;
            height: 100%;
            position: relative;
            background-image: url('/api/placeholder/760/180');
            background-size: cover;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .animation-character {
            position: absolute;
            width: 120px;
            height: 120px;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 100px;
            opacity: 0;
            transition: opacity 0.5s, transform 0.5s;
        }
        
        .animation-text {
            position: absolute;
            top: 20px;
            font-size: 24px;
            width: 100%;
            text-align: center;
            color: #ffcc00;
            text-shadow: 2px 2px 4px #000;
            opacity: 0;
            transition: opacity 0.5s;
        }
        .reels {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        .reel {
            background-color: #fff;
            width: 100px;
            height: 250px;
            overflow: hidden;
            border-radius: 8px;
            border: 3px solid #ffcc00;
            position: relative;
        }
        .reel-container {
            position: absolute;
            width: 100%;
            transition: top 3s cubic-bezier(0.17, 0.67, 0.83, 0.67);
        }
        .symbol {
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            font-weight: bold;
            background-color: #fff;
            color: #333;
        }
        .controls {
            margin-top: 20px;
        }
        .btn {
            background-color: #ffcc00;
            color: #600040;
            border: none;
            padding: 12px 30px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            margin: 0 10px;
            box-shadow: 0 4px 0 #cc9900;
            transition: all 0.2s;
        }
        .btn:hover {
            background-color: #ffdd33;
            transform: translateY(-2px);
        }
        .btn:active {
            transform: translateY(2px);
            box-shadow: 0 1px 0 #cc9900;
        }
        .btn:disabled {
            background-color: #bbbbbb;
            color: #666666;
            cursor: not-allowed;
            box-shadow: 0 4px 0 #999999;
        }
        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            background-color: #3a0027;
            border-radius: 8px;
            padding: 10px;
        }
        .stat {
            font-size: 24px;
        }
        .stat span {
            color: #ffcc00;
            font-weight: bold;
        }
        .win-message {
            font-size: 32px;
            color: #ffcc00;
            text-shadow: 0 0 10px #ff9900;
            height: 40px;
            margin: 10px 0;
            font-weight: bold;
        }
        .symbol-wrapper {
            position: relative;
        }
        .symbol img {
            width: 80px;
            height: 80px;
            object-fit: contain;
        }
        .paylines {
            margin-top: 20px;
            background-color: #3a0027;
            border-radius: 8px;
            padding: 10px;
            text-align: left;
        }
        .paylines h3 {
            color: #ffcc00;
            margin-top: 0;
        }
        .paylines ul {
            list-style-type: none;
            padding: 0;
        }
        .paylines li {
            margin-bottom: 5px;
        }
        .paylines img {
            width: 24px;
            height: 24px;
            vertical-align: middle;
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>å‰å®—777 è€è™æ©Ÿ</h1>
        </div>
        
        <div class="slot-machine">
            <!-- æ–°å¢å‹•ç•«é¡¯ç¤ºå€åŸŸ -->
            <div class="animation-display">
                <div class="animation-scene" id="animation-scene">
                    <div class="animation-character" id="animation-character"></div>
                    <div class="animation-text" id="animation-text"></div>
                </div>
            </div>
            
            <div class="reels">
                <div class="reel" id="reel1">
                    <div class="reel-container" id="reel1-container"></div>
                </div>
                <div class="reel" id="reel2">
                    <div class="reel-container" id="reel2-container"></div>
                </div>
                <div class="reel" id="reel3">
                    <div class="reel-container" id="reel3-container"></div>
                </div>
            </div>
            
            <div class="win-message" id="win-message"></div>
            
            <div class="controls">
                <button class="btn" id="spin-btn">æ—‹è½‰ (50 é‡‘å¹£)</button>
            </div>
        </div>
        
        <div class="stats">
            <div class="stat">é‡‘å¹£: <span id="coins">1000</span></div>
            <div class="stat">è´å¾—: <span id="win-amount">0</span></div>
        </div>
        
        <div class="paylines">
            <h3>çé‡‘è¡¨:</h3>
            <ul>
                <li>ğŸ’°ğŸ’°ğŸ’° = è³ ç‡ x10</li>
                <li>ğŸğŸğŸ = è³ ç‡ x5</li>
                <li>ğŸ¯ğŸ¯ğŸ¯ = è³ ç‡ x8</li>
                <li>ğŸœğŸœğŸœ = è³ ç‡ x3</li>
                <li>ğŸ´ğŸ´ğŸ´ = è³ ç‡ x4</li>
                <li>ğŸ‘¹ğŸ‘¹ğŸ‘¹ = è³ ç‡ x20</li>
                <li>7ï¸âƒ£7ï¸âƒ£7ï¸âƒ£ = è³ ç‡ x50</li>
            </ul>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // å®šç¾©ç¬¦è™Ÿå’Œå®ƒå€‘çš„è³ ç‡
            const symbols = [
                { id: 0, symbol: 'ğŸ’°', name: 'é‡‘éŒ¢è¢‹', payout: 10, animation: 'é‡‘éŒ¢æ»¿å¤©é£›ï¼' },
                { id: 1, symbol: 'ğŸ', name: 'äººå¶', payout: 5, animation: 'äººå¶èˆï¼' },
                { id: 2, symbol: 'ğŸ¯', name: 'åŸå ¡', payout: 8, animation: 'å¤©å®ˆé–£çš„å®ˆè­·è€…ï¼' },
                { id: 3, symbol: 'ğŸœ', name: 'æ‹‰éºµ', payout: 3, animation: 'ç¾å‘³æ‹‰éºµï¼' },
                { id: 4, symbol: 'ğŸ´', name: 'èŠ±ç‰Œ', payout: 4, animation: 'èŠ±ç‰Œå°æ±ºï¼' },
                { id: 5, symbol: 'ğŸ‘¹', name: 'é¬¼é¢', payout: 20, animation: 'é¬¼ç¥é™è‡¨ï¼' },
                { id: 6, symbol: '7ï¸âƒ£', name: 'ä¸ƒ', payout: 50, animation: '777å¤§çï¼' }
            ];

            // åˆå§‹åŒ–
            let coins = 1000;
            let bet = 50;
            let isSpinning = false;
            
            // èƒŒæ™¯å ´æ™¯
            const scenes = [
                'æ—¥æœ¬èŠ±åœ’', 'ç¥ç¤¾', 'åŸå ¡', 'é¬¥æŠ€å ´', 'æº«æ³‰'
            ];
            let currentScene = 0;

            // æ›´æ–°é¡¯ç¤ºçš„é‡‘å¹£æ•¸é‡
            function updateCoins() {
                document.getElementById('coins').textContent = coins;
            }

            // å‰µå»ºè½‰è¼ªä¸Šçš„ç¬¦è™Ÿ
            function createReels() {
                const reels = [
                    document.getElementById('reel1-container'),
                    document.getElementById('reel2-container'),
                    document.getElementById('reel3-container')
                ];

                reels.forEach(reel => {
                    // æ¸…ç©ºè½‰è¼ª
                    reel.innerHTML = '';
                    
                    // ç‚ºæ¯å€‹è½‰è¼ªæ·»åŠ ç¬¦è™Ÿ
                    // æ¯å€‹è½‰è¼ªæœ‰10å€‹ç¬¦è™Ÿ, éš¨æ©Ÿé¸æ“‡
                    for (let i = 0; i < 10; i++) {
                        const randomSymbol = symbols[Math.floor(Math.random() * symbols.length)];
                        const symbolElement = document.createElement('div');
                        symbolElement.classList.add('symbol');
                        symbolElement.textContent = randomSymbol.symbol;
                        symbolElement.dataset.id = randomSymbol.id;
                        reel.appendChild(symbolElement);
                    }
                });
            }

            // æ—‹è½‰è½‰è¼ª
            function spin() {
                if (isSpinning || coins < bet) return;
                
                // æ‰£é™¤è³­æ³¨
                coins -= bet;
                updateCoins();
                
                isSpinning = true;
                document.getElementById('spin-btn').disabled = true;
                document.getElementById('win-message').textContent = '';
                document.getElementById('win-amount').textContent = '0';
                
                // é‡æ–°ç”Ÿæˆç¬¦è™Ÿ
                createReels();
                
                // é¡¯ç¤ºæ—‹è½‰å‹•ç•«
                showAnimation('æº–å‚™è½‰å‹•ï¼', 'ğŸ°');
                
                const reels = [
                    document.getElementById('reel1-container'),
                    document.getElementById('reel2-container'),
                    document.getElementById('reel3-container')
                ];
                
                // è¨­ç½®æ¯å€‹è½‰è¼ªçš„çµæŸä½ç½®
                const positions = [];
                for (let i = 0; i < 3; i++) {
                    const position = -Math.floor(Math.random() * 7) * 100; // éš¨æ©Ÿä½ç½®
                    positions.push(position);
                    
                    setTimeout(() => {
                        reels[i].style.transition = 'top 3s cubic-bezier(0.17, 0.67, 0.83, 0.67)';
                        reels[i].style.top = `${position}px`;
                    }, i * 400); // è½‰è¼ªä¾æ¬¡é–‹å§‹æ—‹è½‰
                }
                
                // æ—‹è½‰å®Œæˆå¾Œæª¢æŸ¥çµæœ
                setTimeout(() => {
                    checkWin(positions);
                    isSpinning = false;
                    document.getElementById('spin-btn').disabled = false;
                }, 3000 + 800); // æ‰€æœ‰è½‰è¼ªæ—‹è½‰å®Œæˆçš„æ™‚é–“
            }

            // é¡¯ç¤ºå‹•ç•«
            function showAnimation(text, character) {
                const animationText = document.getElementById('animation-text');
                const animationCharacter = document.getElementById('animation-character');
                
                // é‡ç½®å‹•ç•«
                animationText.style.opacity = 0;
                animationCharacter.style.opacity = 0;
                animationCharacter.style.transform = 'translateX(-50%) translateY(50px)';
                
                // æ›´æ–°å…§å®¹
                setTimeout(() => {
                    animationText.textContent = text;
                    animationCharacter.textContent = character;
                    
                    // é¡¯ç¤ºæ–°å‹•ç•«
                    animationText.style.opacity = 1;
                    animationCharacter.style.opacity = 1;
                    animationCharacter.style.transform = 'translateX(-50%) translateY(0)';
                }, 300);
            }
            
            // æ›´æ›èƒŒæ™¯å ´æ™¯
            function changeScene() {
                currentScene = (currentScene + 1) % scenes.length;
                const sceneElement = document.getElementById('animation-scene');
                sceneElement.style.transition = 'opacity 0.5s';
                sceneElement.style.opacity = 0;
                
                setTimeout(() => {
                    sceneElement.style.backgroundImage = `url('/api/placeholder/760/180')`;
                    sceneElement.style.opacity = 1;
                }, 500);
            }
            
            // æª¢æŸ¥è´å¾—æƒ…æ³
            function checkWin(positions) {
                const result = [];
                
                // ç²å–åœæ­¢ä½ç½®çš„ç¬¦è™Ÿ
                for (let i = 0; i < 3; i++) {
                    const reelContainer = document.getElementById(`reel${i+1}-container`);
                    const symbolIndex = Math.abs(positions[i] / 100);
                    const symbolElement = reelContainer.children[symbolIndex];
                    result.push(parseInt(symbolElement.dataset.id));
                }
                
                // æª¢æŸ¥æ˜¯å¦æœ‰ä¸‰å€‹ç›¸åŒçš„ç¬¦è™Ÿ
                if (result[0] === result[1] && result[1] === result[2]) {
                    const winningSymbol = symbols.find(s => s.id === result[0]);
                    const winAmount = bet * winningSymbol.payout;
                    
                    coins += winAmount;
                    updateCoins();
                    
                    document.getElementById('win-message').textContent = `ä¸­çäº†! ${winningSymbol.symbol} x3`;
                    document.getElementById('win-amount').textContent = winAmount;
                    
                    // é¡¯ç¤ºå°æ‡‰çš„ç²å‹å‹•ç•«
                    showAnimation(winningSymbol.animation, winningSymbol.symbol);
                    changeScene();
                    
                    // ç‰¹æ®Šæ•ˆæœ
                    if (winningSymbol.id === 6) { // 777å¤§ç
                        document.getElementById('win-message').style.fontSize = '42px';
                        document.getElementById('win-message').style.color = '#ff0000';
                        setTimeout(() => {
                            document.getElementById('win-message').style.fontSize = '32px';
                            document.getElementById('win-message').style.color = '#ffcc00';
                        }, 2000);
                        
                        // 777ç‰¹æ®Šå‹•ç•«æ•ˆæœ
                        const animationScene = document.getElementById('animation-scene');
                        animationScene.style.boxShadow = '0 0 20px #ffcc00 inset';
                        setTimeout(() => {
                            animationScene.style.boxShadow = 'none';
                        }, 3000);
                    }
                } else {
                    // æœªä¸­ç
                    showAnimation('å†æ¥å†å²ï¼', 'ğŸ˜Š');
                }
            }

            // åˆå§‹åŒ–
            createReels();
            updateCoins();
            showAnimation('æ­¡è¿éŠç©å‰å®—777è€è™æ©Ÿï¼', 'ğŸŒ');
            
            // ç¶å®šæŒ‰éˆ•äº‹ä»¶
            document.getElementById('spin-btn').addEventListener('click', spin);
        });
    </script>
</body>
</html>
